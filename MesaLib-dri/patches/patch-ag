$NetBSD: patch-ag,v 1.3 2007/07/04 06:03:37 bsadewitz Exp $

--- src/mesa/drivers/dri/common/extension_helper.h.orig	2007-06-21 18:14:38.000000000 -0400
+++ src/mesa/drivers/dri/common/extension_helper.h
@@ -1471,9 +1471,10 @@ static const char ImageTransformParamete
     "";
 #endif
 
-#if defined(need_GL_ARB_vertex_program)
+#if defined(need_GL_VERSION_2_0) || defined(need_GL_ARB_vertex_program)
 static const char VertexAttrib4ivARB_names[] = 
     "ip\0" /* Parameter signature */
+    "glVertexAttrib4iv\0"
     "glVertexAttrib4ivARB\0"
     "";
 #endif
@@ -1579,9 +1580,10 @@ static const char PixelTransformParamete
     "";
 #endif
 
-#if defined(need_GL_ARB_vertex_program)
+#if defined(need_GL_VERSION_2_0) || defined(need_GL_ARB_vertex_program)
 static const char VertexAttrib4bvARB_names[] = 
     "ip\0" /* Parameter signature */
+    "glVertexAttrib4bv\0"
     "glVertexAttrib4bvARB\0"
     "";
 #endif
@@ -2384,9 +2386,10 @@ static const char GetAttribLocationARB_n
     "";
 #endif
 
-#if defined(need_GL_ARB_vertex_program)
+#if defined(need_GL_VERSION_2_0) || defined(need_GL_ARB_vertex_program)
 static const char VertexAttrib4ubvARB_names[] = 
     "ip\0" /* Parameter signature */
+    "glVertexAttrib4ubv\0"
     "glVertexAttrib4ubvARB\0"
     "";
 #endif
@@ -2903,9 +2906,10 @@ static const char ReplacementCodeuiColor
     "";
 #endif
 
-#if defined(need_GL_ARB_vertex_program)
+#if defined(need_GL_VERSION_2_0) || defined(need_GL_ARB_vertex_program)
 static const char VertexAttrib4usvARB_names[] = 
     "ip\0" /* Parameter signature */
+    "glVertexAttrib4usv\0"
     "glVertexAttrib4usvARB\0"
     "";
 #endif
@@ -4386,9 +4390,10 @@ static const char WindowPos4iMESA_names[
     "";
 #endif
 
-#if defined(need_GL_ARB_vertex_program)
+#if defined(need_GL_VERSION_2_0) || defined(need_GL_ARB_vertex_program)
 static const char VertexAttrib4uivARB_names[] = 
     "ip\0" /* Parameter signature */
+    "glVertexAttrib4uiv\0"
     "glVertexAttrib4uivARB\0"
     "";
 #endif
@@ -6243,6 +6248,8 @@ static const struct dri_extension_functi
     { GetVertexAttribivARB_names, GetVertexAttribivARB_remap_index, -1 },
     { CreateProgram_names, CreateProgram_remap_index, -1 },
     { StencilFuncSeparate_names, StencilFuncSeparate_remap_index, -1 },
+    { VertexAttrib4ivARB_names, VertexAttrib4ivARB_remap_index, -1 },
+    { VertexAttrib4bvARB_names, VertexAttrib4bvARB_remap_index, -1 },
     { VertexAttrib3dARB_names, VertexAttrib3dARB_remap_index, -1 },
     { VertexAttrib4fARB_names, VertexAttrib4fARB_remap_index, -1 },
     { VertexAttrib4fvARB_names, VertexAttrib4fvARB_remap_index, -1 },
@@ -6256,6 +6263,7 @@ static const struct dri_extension_functi
     { VertexAttrib1dvARB_names, VertexAttrib1dvARB_remap_index, -1 },
     { GetVertexAttribfvARB_names, GetVertexAttribfvARB_remap_index, -1 },
     { GetAttribLocationARB_names, GetAttribLocationARB_remap_index, -1 },
+    { VertexAttrib4ubvARB_names, VertexAttrib4ubvARB_remap_index, -1 },
     { Uniform3ivARB_names, Uniform3ivARB_remap_index, -1 },
     { VertexAttrib4sARB_names, VertexAttrib4sARB_remap_index, -1 },
     { VertexAttrib2dvARB_names, VertexAttrib2dvARB_remap_index, -1 },
@@ -6268,6 +6276,7 @@ static const struct dri_extension_functi
     { VertexAttrib4NuivARB_names, VertexAttrib4NuivARB_remap_index, -1 },
     { Uniform4fARB_names, Uniform4fARB_remap_index, -1 },
     { VertexAttrib1dARB_names, VertexAttrib1dARB_remap_index, -1 },
+    { VertexAttrib4usvARB_names, VertexAttrib4usvARB_remap_index, -1 },
     { LinkProgramARB_names, LinkProgramARB_remap_index, -1 },
     { ShaderSourceARB_names, ShaderSourceARB_remap_index, -1 },
     { VertexAttrib3svARB_names, VertexAttrib3svARB_remap_index, -1 },
@@ -6297,6 +6306,7 @@ static const struct dri_extension_functi
     { DrawBuffersARB_names, DrawBuffersARB_remap_index, -1 },
     { Uniform1fvARB_names, Uniform1fvARB_remap_index, -1 },
     { EnableVertexAttribArrayARB_names, EnableVertexAttribArrayARB_remap_index, -1 },
+    { VertexAttrib4uivARB_names, VertexAttrib4uivARB_remap_index, -1 },
     { VertexAttrib4svARB_names, VertexAttrib4svARB_remap_index, -1 },
     { GetShaderiv_names, GetShaderiv_remap_index, -1 },
     { VertexAttrib2svARB_names, VertexAttrib2svARB_remap_index, -1 },
