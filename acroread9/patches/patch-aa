$NetBSD: patch-aa,v 1.3 2010/10/08 23:12:23 ryo-on Exp $

--- INSTALL.orig	2010-09-22 15:19:28.000000000 +0900
+++ INSTALL	2010-10-09 08:03:26.881020586 +0900
@@ -122,6 +122,8 @@
 
         if [ "${OSname}" = "Linux" ] ; then
           size=`ls -lLn "$i" | ( read perm links owner group size date ; echo $size )`
+	elif [ `uname -s|sed -e 's|.*\(...\)|\\1|'` = "BSD" -o `uname -s` = "DragonFly" ] ; then
+	  size=`ls -lL "$i" | ( read perm links owner group size date ; echo $size )`
         else
           size=`ls -lLon "$i" | ( read perm links owner size date ; echo $size )`
         fi
@@ -390,12 +392,13 @@
 install_dir="$1/Adobe/Reader9/Reader"
 read_config="$2"
 
-if ${TestCmd} ! ${TestCmdOption} /usr/lib/libldap.so
+if ${TestCmd} ! ${TestCmdOption} /usr/lib/libldap.so 
 then
+if [ "${OSname}" = "Linux" ] ; then
 	rm -f "$install_dir/${read_config}/lib/libldap.so" 2>/dev/null
 
 	LIB_LDAP="`ls -tr /usr/lib/libldap.so*  2>/dev/null | tail -1`"
-
+fi
 	if [ "$LIB_LDAP" = "" ] 
 	then
 		LIB_LDAP="`ls -tr /usr/lib/libldap* 2>/dev/null | grep -v libldap_r | grep -v libldapcpp | grep '\.so' | tail -1`"
@@ -409,10 +412,11 @@
 
 if ${TestCmd} ! ${TestCmdOption} /usr/lib/liblber.so
 then
+if [ "${OSname}" = "Linux" ] ; then
 	rm -f "$install_dir/${read_config}/lib/liblber.so" 2>/dev/null
 
 	LIB_LBER="`ls -tr /usr/lib/liblber.so* 2>/dev/null | tail -1`"
-
+fi
 	if [ "$LIB_LBER" = "" ] 
 	then
 		LIB_LBER="`ls -tr /usr/lib/liblber* 2>/dev/null | grep -v liblber_r | grep '\.so' | tail -1`"
@@ -657,12 +661,8 @@
           record_config remove /usr/local/etc/bash_completion.d/acroread.sh
       fi
   fi
-  if [ "${OSname}" = "Linux" ]; then
-    manPageFile="acroread.1.gz"
-  else
     manPageFile="acroread.1"
     gunzip "$ReadInstallDir/Adobe/Reader9/Resource/Shell/acroread.1.gz" 2>/dev/null 
-  fi
 
   rm -f "/usr/share/man/man1/${manPageFile}" 2>/dev/null && \
   ln -s "$ReadInstallDir/Adobe/Reader9/Resource/Shell/${manPageFile}" "/usr/share/man/man1/${manPageFile}" 2>/dev/null && \
@@ -950,6 +950,19 @@
     ReadDefaultNum="$ReadIntelLinuxNum"
     DefaultName="Intel/Linux"
     ;;
+  NetBSD | DragonFly)
+    MachArch=`uname -p`
+    case "$MachArch" in
+     i386|x86_64)
+       ReadDefaultNum="$ReadIntelLinuxNum"
+       DefaultName="Intel/Linux"
+       ;;
+     sparc*)
+       ReadDefaultNum="$ReadSparcSolarisNum"
+       DefaultName="SPARC/Solaris 2.x"
+       ;;
+    esac
+    ;;
 esac
 
 if  [ -z "$ReadDefaultNum" ] ; then
