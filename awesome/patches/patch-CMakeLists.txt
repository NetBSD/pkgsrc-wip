$NetBSD: patch-CMakeLists.txt,v 1.1 2011/03/08 09:26:37 pallegra Exp $

--- CMakeLists.txt.orig	2011-01-17 11:38:13.000000000 +0000
+++ CMakeLists.txt
@@ -274,14 +274,15 @@ endif()
 
 # {{{ Theme icons
 file(GLOB icon_sources RELATIVE ${SOURCE_DIR} ${SOURCE_DIR}/themes/*/titlebar/*.png)
-set(ALL_ICONS ${icon_sources})
 
 foreach(icon ${icon_sources})
     # Copy all icons to the build dir to simplify the following code.
     # Source paths are interpreted relative to ${SOURCE_DIR}, target paths
     # relative to ${BUILD_DIR}.
     get_filename_component(icon_path ${icon} PATH)
+    get_filename_component(icon_name ${icon} NAME)
     file(COPY ${icon} DESTINATION ${icon_path})
+    set(ALL_ICONS ${ALL_ICONS} "${icon_path}/${icon_name}")
 endforeach()
 
 macro(a_icon_convert match replacement input)
@@ -327,7 +328,7 @@ install(FILES "utils/awsetbg" DESTINATIO
 install(FILES "utils/awesome-client" DESTINATION bin PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE)
 install(DIRECTORY ${BUILD_DIR}/lib DESTINATION ${AWESOME_DATA_PATH}
     PATTERN "*.in" EXCLUDE)
-install(FILES ${AWE_CONF_FILE_DEFAULT} DESTINATION ${AWESOME_SYSCONFDIR}
+install(FILES ${AWE_CONF_FILE_DEFAULT} DESTINATION /usr/pkg/share/examples/awesome
         RENAME ${AWE_CONF_FILE})
 if(GENERATE_MANPAGES)
     if(COMPRESS_MANPAGES)
