$NetBSD: patch-ab,v 1.3 2009/12/20 11:25:40 pallegra Exp $

--- awesomeConfig.cmake.orig	2009-11-26 19:03:25.000000000 +0000
+++ awesomeConfig.cmake
@@ -10,14 +10,15 @@ project(${PROJECT_AWE_NAME} C)
 
 set(CMAKE_BUILD_TYPE RELEASE)
 
-option(WITH_DBUS "build with D-BUS" ON)
+option(WITH_DBUS "build with D-BUS" OFF)
 option(GENERATE_MANPAGES "generate manpages" ON)
-option(GENERATE_LUADOC "generate luadoc" ON)
+option(COMPRESS_MANPAGES "generate manpages" OFF)
+option(GENERATE_LUADOC "generate luadoc" OFF)
 
 link_directories(/usr/local/lib)
 
 # {{{ CFLAGS
-add_definitions(-std=gnu99 -ggdb3 -fno-strict-aliasing -Wall -Wextra
+add_definitions(-std=gnu99 -fno-strict-aliasing -Wall -Wextra
     -Wchar-subscripts -Wundef -Wshadow -Wcast-align -Wwrite-strings
     -Wsign-compare -Wunused -Wno-unused-parameter -Wuninitialized -Winit-self
     -Wpointer-arith -Wredundant-decls -Wformat-nonliteral
@@ -69,14 +70,14 @@ include(FindLua51) #Due to a cmake bug, 
 
 # {{{ Check if documentation can be build
 if(GENERATE_MANPAGES)
-    if(NOT ASCIIDOC_EXECUTABLE OR NOT XMLTO_EXECUTABLE OR NOT GZIP_EXECUTABLE)
+    if(NOT ASCIIDOC_EXECUTABLE OR NOT XMLTO_EXECUTABLE OR (COMPRESS_MANPAGES AND NOT GZIP_EXECUTABLE))
         if(NOT ASCIIDOC_EXECUTABLE)
             SET(missing "asciidoc")
         endif()
         if(NOT XMLTO_EXECUTABLE)
             SET(missing ${missing} " xmlto")
         endif()
-        if(NOT GZIP_EXECUTABLE)
+        if(COMPRESS_MANPAGES AND NOT GZIP_EXECUTABLE)
             SET(missing ${missing} " gzip")
         endif()
 
@@ -218,6 +219,12 @@ else()
     set(SYSCONFDIR ${PREFIX}/etc CACHE PATH "config directory")
 endif()
 
+if(DEFINED EGDIR)
+    set(EGDIR ${EGDIR} CACHE PATH "egconfig directory")
+else()
+    set(EGDIR ${PREFIX}/share/examples/${PROJECT_AWE_NAME} CACHE PATH "egconfig directory")
+endif()
+
 #If an XDG Config Dir is specificed, use it instead
 #of the default XDG configuration dir.
 if(DEFINED XDG_CONFIG_DIR)
@@ -256,6 +263,7 @@ set(AWESOME_COMPILE_HOSTNAME ${BUILDHOST
 set(AWESOME_COMPILE_BY       $ENV{USER})
 set(AWESOME_RELEASE          ${CODENAME})
 set(AWESOME_SYSCONFDIR       ${XDG_CONFIG_DIR}/${PROJECT_AWE_NAME})
+set(AWESOME_EGDIR            ${PREFIX}/share/examples/${PROJECT_AWE_NAME})
 set(AWESOME_DATA_PATH        ${PREFIX}/share/${PROJECT_AWE_NAME})
 set(AWESOME_LUA_LIB_PATH     ${AWESOME_DATA_PATH}/lib)
 set(AWESOME_ICON_PATH        ${AWESOME_DATA_PATH}/icons)
