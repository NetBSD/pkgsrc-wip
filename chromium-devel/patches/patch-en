$NetBSD: patch-en,v 1.2 2010/09/30 08:01:04 rxg Exp $

--- net/net.gyp.orig	2010-09-13 15:17:56.000000000 +0000
+++ net/net.gyp
@@ -200,7 +200,16 @@
         '../base/base.gyp:base',
       ],
       'conditions': [
-        [ 'OS == "linux" or OS == "freebsd" or OS == "openbsd"', {
+        [ 'OS == "freebsd" or OS == "netbsd" or OS == "openbsd"', {
+            'sources!': [
+              'base/network_change_notifier_linux.cc',
+              'base/network_change_notifier_linux.h',
+              'base/network_change_notifier_netlink_linux.cc',
+              'base/network_change_notifier_netlink_linux.h',
+            ],
+          },
+        ],
+        [ 'OS == "linux" or OS == "freebsd" or OS == "netbsd" or OS == "openbsd"', {
             'dependencies': [
               '../build/linux/system.gyp:gconf',
               '../build/linux/system.gyp:gdk',
@@ -618,13 +627,13 @@
             '../v8/tools/gyp/v8.gyp:v8',
           ],
         }],
-        ['chromeos==1', {
+        ['chromeos==1 or OS=="freebsd" or OS=="netbsd" or OS=="openbsd"', {
           'sources!': [
              'proxy/proxy_config_service_linux.cc',
              'proxy/proxy_config_service_linux.h',
           ],
         }],
-        [ 'OS == "linux" or OS == "freebsd" or OS == "openbsd"', {
+        [ 'OS == "linux" or OS == "freebsd" or OS == "netbsd" or OS == "openbsd"', {
             'dependencies': [
               '../build/linux/system.gyp:gconf',
               '../build/linux/system.gyp:gdk',
@@ -841,12 +850,12 @@
         'websockets/websocket_unittest.cc',
       ],
       'conditions': [
-        ['chromeos==1', {
+        ['chromeos==1 or OS=="freebsd" or OS=="netbsd" or OS=="openbsd"', {
           'sources!': [
              'proxy/proxy_config_service_linux_unittest.cc',
           ],
         }],
-        [ 'OS == "linux" or OS == "freebsd" or OS == "openbsd"', {
+        [ 'OS == "linux" or OS == "freebsd" or OS == "netbsd" or OS == "openbsd"', {
             'dependencies': [
               '../build/linux/system.gyp:gtk',
               '../build/linux/system.gyp:nss',
@@ -861,7 +870,7 @@
             ],
           }
         ],
-        ['OS == "linux"', {
+        ['OS == "linux" or OS == "freebsd" or OS == "netbsd" or OS == "openbsd"', {
           'conditions': [
             ['linux_use_tcmalloc==1', {
               'dependencies': [
@@ -993,12 +1002,12 @@
             '../third_party/protobuf2/protobuf.gyp:py_proto',
           ],
         }],
-        ['OS == "linux" or OS == "freebsd" or OS == "openbsd"', {
+        ['OS == "linux" or OS == "freebsd" or OS == "netbsd" or OS == "openbsd"', {
           'dependencies': [
             '../build/linux/system.gyp:nss',
           ],
         }],
-        ['OS == "linux"', {
+        ['OS == "linux" or OS == "freebsd" or OS == "netbsd" or OS == "openbsd"', {
           'conditions': [
             ['linux_use_tcmalloc==1', {
               'dependencies': [
