$NetBSD: patch-gm,v 1.1.1.1 2010/09/08 15:01:02 rxg Exp $

--- third_party/WebKit/WebKit/chromium/src/WebFrameImpl.cpp.orig	2010-08-29 09:08:56.000000000 +0000
+++ third_party/WebKit/WebKit/chromium/src/WebFrameImpl.cpp
@@ -151,7 +151,7 @@
 #include "LocalCurrentGraphicsContext.h"
 #endif
 
-#if OS(LINUX)
+#if OS(LINUX) || OS(FREEBSD) || OS(NETBSD)
 #include <gdk/gdk.h>
 #endif
 
@@ -307,7 +307,7 @@ public:
         float scale = m_printedPageWidth / pageRect.width();
 
         ctx.save();
-#if OS(LINUX)
+#if OS(LINUX) || OS(FREEBSD) || OS(NETBSD)
         ctx.scale(WebCore::FloatSize(scale, scale));
 #endif
         ctx.translate(static_cast<float>(-pageRect.x()),
@@ -1288,7 +1288,7 @@ float WebFrameImpl::printPage(int page, 
         return 0;
     }
 
-#if OS(WINDOWS) || OS(LINUX) || OS(FREEBSD) || OS(SOLARIS)
+#if OS(WINDOWS) || OS(LINUX) || OS(FREEBSD) || OS(NETBSD) || OS(SOLARIS)
     PlatformContextSkia context(canvas);
     GraphicsContext spool(&context);
 #elif OS(DARWIN)
