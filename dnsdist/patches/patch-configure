$NetBSD: patch-configure,v 1.3 2025/05/08 13:48:43 jperkin Exp $

Fix unportable test(1) operator.

--- configure.orig	2025-04-29 09:46:28.000000000 +0000
+++ configure
@@ -18532,7 +18532,7 @@ printf %s "checking whether to link in l
 # Check whether --with-libedit was given.
 if test ${with_libedit+y}
 then :
-  withval=$with_libedit; with_libedit=$enableval
+  withval=$with_libedit; with_libedit=$withval
 else $as_nop
   with_libedit=yes
 
@@ -26247,12 +26247,12 @@ fi
 then :
 
 
-        if test "x$enable_fortify_source" == "xauto"
+        if test "x$enable_fortify_source" = "xauto"
 then :
   enable_fortify_source=3
 fi
 
-        if test "x$enable_fortify_source" == "x3"
+        if test "x$enable_fortify_source" = "x3"
 then :
 
       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether C++ compiler handles -D_FORTIFY_SOURCE=3" >&5
@@ -26301,7 +26301,7 @@ fi
 
 fi
 
-        if test "x$enable_fortify_source" == "x2"
+        if test "x$enable_fortify_source" = "x2"
 then :
 
       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether C++ compiler handles -D_FORTIFY_SOURCE=2" >&5
@@ -26350,7 +26350,7 @@ fi
 
 fi
 
-    if test "x$enable_fortify_source" == "x1"
+    if test "x$enable_fortify_source" = "x1"
 then :
 
       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether C++ compiler handles -D_FORTIFY_SOURCE=1" >&5
@@ -27061,7 +27061,7 @@ fi
 then :
 
 
-        if test "x$enable_lto" == "xthin"
+        if test "x$enable_lto" = "xthin"
 then :
 
       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether C++ compiler handles -flto=thin" >&5
@@ -27111,7 +27111,7 @@ fi
 
 fi
 
-        if test "x$enable_lto" == "xauto"
+        if test "x$enable_lto" = "xauto"
 then :
 
       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether C++ compiler handles -flto=auto" >&5
@@ -27161,7 +27161,7 @@ fi
 
 fi
 
-    if test "x$enable_lto" == "xyes"
+    if test "x$enable_lto" = "xyes"
 then :
 
       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether C++ compiler handles -flto" >&5
