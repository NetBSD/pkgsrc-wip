$NetBSD: patch-ad,v 1.1.1.1 2003/09/13 12:58:47 bubuchka Exp $

--- etc/drweb_smf.conf.orig	2003-07-30 17:35:23.000000000 +0300
+++ etc/drweb_smf.conf
@@ -14,10 +14,10 @@
 # pid - get daemon address from pidfile, then {ADDRESS} is {PIDFILE}
 # Examples:
 #   Address = inet:3000@localhost
-#   Address = local:/usr/local/drweb/run/drwebd.skt
-#   Address = pid:/usr/local/drweb/run/drwebd.pid
-#   Address = pid:/var/drweb/run/drwebd.pid, inet:3000@backup_server.example.com
-Address = inet:3000@localhost
+#   Address = local:@DRW_SOCKFILE@
+#   Address = pid:@DRW_PIDFILE@
+#   Address = pid:@DRW_PIDFILE@, inet:3000@backup_server.example.com
+Address = local:@DRW_SOCKFILE@
 
 # Enable/disable caching resolved daemon host 
 # (useful only if daemon uses TCP/IP communications)
@@ -58,7 +58,7 @@ ReportMaxSize = 8192
 # LocalScan has affect only on connection with first daemon in Address list
 # If enabled then spool directory must be readable (writeable for EVAL key) 
 # for drwebd process (see drweb32.ini option User)
-LocalScan = yes
+LocalScan = no
 
 # Enable or disable daemon rule filter (on/off)
 RuleFilter = on
@@ -72,10 +72,10 @@ FilterAccount = drweb 
 DenyOnOne = yes
 
 # List with rules for users or domains to block scanning 
-DenyList = /etc/drweb/users.conf
+DenyList = @PKG_SYSCONFDIR@/users.conf
 
 # Directory used for story temporary files
-Spool = /var/drweb/spool 
+Spool = /tmp
 
 # Permissions for created spool files
 SpoolFilesMode = 0600
@@ -198,25 +198,25 @@ ScanningErrors = quarantine 
 ProcessingErrors = quarantine 
 
 # Admin mail address (may be unix-local address)
-AdminMail = av-master@example.com
+AdminMail = postmaster@example.com
 
 # Mail address for redirect action (may be unix-local address)
-RedirectMail = quarantine@example.com
+RedirectMail = postmaster@example.com
 
 # Filter address, that be used in From: (should be qualified)
-FilterMail = DrWEB-DAEMON@example.com
+FilterMail = DrWeb-DAEMON@example.com
 
 # List of unnotificable viruses
-UnnotificableVirusesList = /etc/drweb/viruses.conf
+UnnotificableVirusesList = @PKG_SYSCONFDIR@/viruses.conf
 
 # List of unnotificable addresses
-UnnotificableAddressesList = /etc/drweb/addresses.conf
+UnnotificableAddressesList = @PKG_SYSCONFDIR@/addresses.conf
 
 # Quarantine directory. 
 # The infected files could be moved in that dir 
 # if you stay this field empty or commented then 
 # infected messages would not been storied
-Quarantine = /var/drweb/infected
+Quarantine = @DRW_INFECTDIR@
 
 # Permissions for quarantined files
 QuarantineFilesMode = 0660
@@ -254,15 +254,15 @@ AdminNotify = yes
 RcptsNotify = yes
 
 # Files with notification templates
-SenderTemplate = /etc/drweb/templates/en-ru/sendmail/virus-sender.msg
-AdminTemplate = /etc/drweb/templates/en-ru/sendmail/virus-admin.msg
-RcptsTemplate = /etc/drweb/templates/en-ru/sendmail/virus-rcpts.msg
+SenderTemplate = @PKG_SYSCONFDIR@/sender-virus.msg
+AdminTemplate = @PKG_SYSCONFDIR@/admin-virus.msg
+RcptsTemplate = @PKG_SYSCONFDIR@/rcpts-virus.msg
 
 [SkipNotifications]
 SenderNotify = yes
 AdminNotify = no
 RcptsNotify = no
-SenderTemplate = /etc/drweb/templates/en-ru/sendmail/skip-sender.msg
+SenderTemplate = @PKG_SYSCONFDIR@/sender-skip.msg
 AdminTemplate = 
 RcptsTemplate = 
 
@@ -270,16 +270,16 @@ RcptsTemplate = 
 SenderNotify = yes
 AdminNotify = yes
 RcptsNotify = no
-SenderTemplate = /etc/drweb/templates/en-ru/sendmail/archive-sender.msg
-AdminTemplate = /etc/drweb/templates/en-ru/sendmail/archive-admin.msg
+SenderTemplate = @PKG_SYSCONFDIR@/sender-archive.msg
+AdminTemplate = @PKG_SYSCONFDIR@/admin-archive.msg
 RcptsTemplate = 
 
 [ErrorNotifications]
 SenderNotify = yes
 AdminNotify = yes
 RcptsNotify = no
-SenderTemplate = /etc/drweb/templates/en-ru/sendmail/error-sender.msg
-AdminTemplate = /etc/drweb/templates/en-ru/sendmail/error-admin.msg
+SenderTemplate = @PKG_SYSCONFDIR@/sender-error.msg
+AdminTemplate = @PKG_SYSCONFDIR@/admin-error.msg
 RcptsTemplate = 
 
 [RuleFilterNotifications]
@@ -287,7 +287,7 @@ SenderNotify = no
 AdminNotify = yes
 RcptsNotify = no
 SenderTemplate = 
-AdminTemplate = /etc/drweb/templates/en-ru/sendmail/rule-admin.msg
+AdminTemplate = @PKG_SYSCONFDIR@/admin-rule.msg
 RcptsTemplate = 
 
 ###################
@@ -315,8 +315,8 @@ Sendmail = /usr/sbin/sendmail
 
 # Definition of Sendmail Milter Address according to sendmail.cf 
 # Note: FAMILY pid is not valid
-# MilterAddress = local:/usr/local/drweb/run/drweb-smf.skt
-MilterAddress = inet:3001@localhost
+# MilterAddress = inet:3001@localhost
+MilterAddress = local:@DRW_SMF_SOCKFILE@
 
 # Timeout for drweb-smf to sendmail connection
 # (Must be greater that any Timeout. parameter in sendmail.cf)
