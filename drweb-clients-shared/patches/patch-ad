$NetBSD: patch-ad,v 1.4 2004/04/07 10:01:04 bubuchka Exp $

--- etc/drweb_smf.conf.orig	2004-02-27 15:21:37.000000000 +0200
+++ etc/drweb_smf.conf
@@ -15,10 +15,10 @@
 # pid - get daemon address from pidfile, then {ADDRESS} is {PIDFILE}
 # Examples:
 #   Address = inet:3000@localhost
-#   Address = local:/usr/local/drweb/run/drwebd.skt
-#   Address = pid:/usr/local/drweb/run/drwebd.pid
-#   Address = pid:/var/drweb/run/drwebd.pid, inet:3000@backup_server.example.com
-Address = inet:3000@localhost
+#   Address = local:@DRW_SOCKFILE@
+#   Address = pid:@DRW_PIDFILE@
+#   Address = pid:@DRW_PIDFILE@, inet:3000@backup_server.example.com
+Address = local:@DRW_SOCKFILE@
 
 # Enable/disable caching of the resolved daemon host 
 # (useful only if daemon uses TCP/IP communications)
@@ -59,13 +59,13 @@ ReportMaxSize = 8192
 # LocalScan affects only connection with first daemon in the Address list
 # If enabled then spool directory must be readable (writable for EVAL key) 
 # for drwebd process (see drweb32.ini option User)
-LocalScan = yes
+LocalScan = no
 
 # Enable or disable daemon rule filter (on/off)
 RuleFilter = on
 
 # User account used by filter
-FilterAccount = drweb 
+FilterAccount = @DRW_USER@
 
 # If this parameter is set to "yes" filter will not become a daemon 
 # (fork and go into background), it uses tools for monitoring filter state with
@@ -91,10 +91,10 @@ DenyMode = byAllRecipients
 DenyByDefault = no
 
 # List with rules for users or domains to block scanning 
-DenyList = /etc/drweb/users.conf
+DenyList = @PKG_SYSCONFDIR@/users.conf
 
 # Directory used to store temporary files
-Spool = /var/drweb/spool 
+Spool = /tmp
 
 # Permissions for created spool files
 SpoolFilesMode = 0600
@@ -269,16 +269,16 @@ RedirectMail = postmaster
 FilterMail = DrWEB-DAEMON
 
 # List of unnotificable viruses
-UnnotificableVirusesList = /etc/drweb/viruses.conf
+UnnotificableVirusesList = @PKG_SYSCONFDIR@/viruses.conf
 
 # List of unnotificable addresses
-UnnotificableAddressesList = /etc/drweb/addresses.conf
+UnnotificableAddressesList = @PKG_SYSCONFDIR@/addresses.conf
 
 # Quarantine directory. 
 # The infected files could be moved in that dir 
 # if you leave this field empty or commented out then 
 # infected messages will not be stored
-Quarantine = /var/drweb/infected
+Quarantine = @DRW_INFECTDIR@
 
 # Permissions for quarantined files
 QuarantineFilesMode = 0660
@@ -317,15 +317,15 @@ AdminNotify = yes
 RcptsNotify = yes
 
 # Files with notification templates
-SenderTemplate = /etc/drweb/templates/en-ru/sendmail/virus-sender.msg
-AdminTemplate = /etc/drweb/templates/en-ru/sendmail/virus-admin.msg
-RcptsTemplate = /etc/drweb/templates/en-ru/sendmail/virus-rcpts.msg
+SenderTemplate = @PKG_SYSCONFDIR@/sender-virus.msg
+AdminTemplate = @PKG_SYSCONFDIR@/admin-virus.msg
+RcptsTemplate = @PKG_SYSCONFDIR@/rcpts-virus.msg
 
 [SkipNotifications]
 SenderNotify = yes
 AdminNotify = no
 RcptsNotify = no
-SenderTemplate = /etc/drweb/templates/en-ru/sendmail/skip-sender.msg
+SenderTemplate = @PKG_SYSCONFDIR@/sender-skip.msg
 AdminTemplate = 
 RcptsTemplate = 
 
@@ -333,16 +333,16 @@ RcptsTemplate = 
 SenderNotify = yes
 AdminNotify = yes
 RcptsNotify = no
-SenderTemplate = /etc/drweb/templates/en-ru/sendmail/archive-sender.msg
-AdminTemplate = /etc/drweb/templates/en-ru/sendmail/archive-admin.msg
+SenderTemplate = @PKG_SYSCONFDIR@/sender-archive.msg
+AdminTemplate = @PKG_SYSCONFDIR@/admin-archive.msg
 RcptsTemplate = 
 
 [ErrorNotifications]
 SenderNotify = yes
 AdminNotify = yes
 RcptsNotify = no
-SenderTemplate = /etc/drweb/templates/en-ru/sendmail/error-sender.msg
-AdminTemplate = /etc/drweb/templates/en-ru/sendmail/error-admin.msg
+SenderTemplate = @PKG_SYSCONFDIR@/sender-error.msg
+AdminTemplate = @PKG_SYSCONFDIR@/admin-error.msg
 RcptsTemplate = 
 
 [RuleFilterNotifications]
@@ -350,7 +350,7 @@ SenderNotify = no
 AdminNotify = yes
 RcptsNotify = no
 SenderTemplate = 
-AdminTemplate = /etc/drweb/templates/en-ru/sendmail/rule-admin.msg
+AdminTemplate = @PKG_SYSCONFDIR@/admin-rule.msg
 RcptsTemplate = 
 
 ###################
@@ -390,8 +390,8 @@ Sendmail = /usr/sbin/sendmail
 
 # Definition of Sendmail Milter Address according to sendmail.cf 
 # Note: FAMILY pid is not valid
-# MilterAddress = local:/usr/local/drweb/run/drweb-smf.skt
-MilterAddress = inet:3001@localhost
+# MilterAddress = inet:3001@localhost
+MilterAddress = local:@DRW_SMF_SOCKFILE@
 
 # Timeout for drweb-smf to sendmail connection
 # (Must be greater than any Timeout. parameter in sendmail.cf)
