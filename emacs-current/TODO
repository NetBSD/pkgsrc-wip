* GNUStep support is not tested.

* patches/patch-configure.in-2
  Eliminate or minimize patches/patch-configure.in-2
  Since 2011/06/29, crtn.o related problem lasts.
  patch-configure.in-2 is a work around for this problem.
  The real patch should be very simple but not figured out how yet.

* Following patch seems to fix the problem, with deleting patch-configure.in-2

  The line
     if test -f $CRT_DIR/crti.o; then
  doesn't to seem to be true even when $CRT_DIR is /usr/lib and
  /usr/lib/crti.o exists

Index: editors/emacs-snapshot/distinfo
===================================================================
RCS file: /e/cvsync/cvsync/pkgsrc/editors/emacs-snapshot/distinfo,v
retrieving revision 1.37
diff -u -r1.37 distinfo
--- editors/emacs-snapshot/distinfo	25 Aug 2011 03:13:44 -0000	1.37
+++ editors/emacs-snapshot/distinfo	24 Sep 2011 08:06:59 -0000
@@ -3,7 +3,7 @@
 SHA1 (emacs-snapshot_20110821.orig.tar.xz) = b277164286c6fa02386c292bda75b8e41a82062d
 RMD160 (emacs-snapshot_20110821.orig.tar.xz) = 8df7d655b81a4a5d700361a8a43707a42954cfab
 Size (emacs-snapshot_20110821.orig.tar.xz) = 23219608 bytes
-SHA1 (patch-aa) = 052ea84f7e3b35d1aba08bd641d7250ec07d09aa
+SHA1 (patch-aa) = bda9067b420fa8977beaa8595831bb1f7af28c0c
 SHA1 (patch-ac) = 7792cd247bcc40eafb4ec28f98bd0d2d9bd4b0c3
 SHA1 (patch-ad) = b8faf958f7ab3effd6c8dbcbf51fe70ddb2ecdae
 SHA1 (patch-ae) = 2dfe31015550feeaa47955136d3bbe2aa6790095
Index: editors/emacs-snapshot/patches/patch-aa
===================================================================
RCS file: /e/cvsync/cvsync/pkgsrc/editors/emacs-snapshot/patches/patch-aa,v
retrieving revision 1.2
diff -u -r1.2 patch-aa
--- editors/emacs-snapshot/patches/patch-aa	1 Mar 2011 04:12:45 -0000	1.2
+++ editors/emacs-snapshot/patches/patch-aa	24 Sep 2011 08:17:05 -0000
@@ -1,8 +1,10 @@
-$NetBSD: TODO,v 1.6 2011/09/24 08:23:54 makoto Exp $
+$NetBSD: TODO,v 1.6 2011/09/24 08:23:54 makoto Exp $
 
---- configure.in.orig	2010-06-02 16:53:45.000000000 +0000
-+++ configure.in
-@@ -403,6 +403,14 @@ case "${canonical}" in
+The second chunk is to skip test -f line which fails to be true.
+
+--- configure.in.orig	2011-08-21 18:39:07.000000000 +0900
++++ configure.in	2011-09-24 17:06:16.000000000 +0900
+@@ -438,6 +438,14 @@
        sparc64-*)        machine=sparc ;;
      esac
    ;;
@@ -17,7 +19,21 @@
  
    ## FreeBSD kernel + glibc based userland
    *-*-kfreebsd*gnu* )
-@@ -1527,9 +1535,9 @@ if test "${HAVE_NS}" = yes; then
+@@ -1018,13 +1026,8 @@
+     START_FILES='pre-crt0.o $(CRT_DIR)/crt0.o'
+     ;;
+   netbsd | openbsd )
+-    if test -f $CRT_DIR/crti.o; then
+ 	LIB_STANDARD='-lgcc -lc -lgcc $(CRT_DIR)/crtend.o $(CRT_DIR)/crtn.o'
+         START_FILES='pre-crt0.o $(CRT_DIR)/crt0.o $(CRT_DIR)/crti.o $(CRT_DIR)/crtbegin.o'
+-    else
+-	LIB_STANDARD='-lgcc -lc -lgcc $(CRT_DIR)/crtend.o'
+-	START_FILES='pre-crt0.o $(CRT_DIR)/crt0.o $(CRT_DIR)/crtbegin.o'
+-    fi
+     ;;
+ esac
+ 
+@@ -1553,9 +1556,9 @@
    window_system=nextstep
    with_xft=no
    # set up packaging dirs
