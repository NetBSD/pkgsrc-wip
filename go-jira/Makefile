# $NetBSD$

DISTNAME=	go-jira-1.0.26
CATEGORIES=	net
MASTER_SITES=	${MASTER_SITE_GITHUB:=go-jira/}
GITHUB_PROJECT=	jira
GITHUB_TAG=	v${PKGVERSION_NOREV}

MAINTAINER=	leot@NetBSD.org
HOMEPAGE=	https://github.com/go-jira/jira
COMMENT=	Simple Go command line client for Atlassian's Jira service
LICENSE=	apache-2.0

GO_MODULE_FILES+=	github.com/!masterminds/goutils/@v/v1.1.0.mod
GO_MODULE_FILES+=	github.com/!masterminds/goutils/@v/v1.1.0.zip
GO_MODULE_FILES+=	github.com/!masterminds/semver/@v/v1.5.0.mod
GO_MODULE_FILES+=	github.com/!masterminds/semver/@v/v1.5.0.zip
GO_MODULE_FILES+=	github.com/!masterminds/sprig/@v/v2.21.0+incompatible.mod
GO_MODULE_FILES+=	github.com/!masterminds/sprig/@v/v2.21.0+incompatible.zip
GO_MODULE_FILES+=	github.com/!netflix/go-expect/@v/v0.0.0-20180928190340-9d1f4485533b.mod
GO_MODULE_FILES+=	github.com/!netflix/go-expect/@v/v0.0.0-20180928190340-9d1f4485533b.zip
GO_MODULE_FILES+=	github.com/alecthomas/template/@v/v0.0.0-20160405071501-a0175ee3bccc.mod
GO_MODULE_FILES+=	github.com/alecthomas/template/@v/v0.0.0-20160405071501-a0175ee3bccc.zip
GO_MODULE_FILES+=	github.com/alecthomas/units/@v/v0.0.0-20151022065526-2efee857e7cf.mod
GO_MODULE_FILES+=	github.com/alecthomas/units/@v/v0.0.0-20151022065526-2efee857e7cf.zip
GO_MODULE_FILES+=	github.com/cheekybits/genny/@v/v1.0.0.mod
GO_MODULE_FILES+=	github.com/cheekybits/genny/@v/v1.0.0.zip
GO_MODULE_FILES+=	github.com/coryb/figtree/@v/v1.0.1-0.20190907170512-58176d03ef0d.mod
GO_MODULE_FILES+=	github.com/coryb/figtree/@v/v1.0.1-0.20190907170512-58176d03ef0d.zip
GO_MODULE_FILES+=	github.com/coryb/kingpeon/@v/v0.0.0-20180107011214-9a669f143f2e.mod
GO_MODULE_FILES+=	github.com/coryb/kingpeon/@v/v0.0.0-20180107011214-9a669f143f2e.zip
GO_MODULE_FILES+=	github.com/coryb/oreo/@v/v0.0.0-20180804211640-3e1b88fc08f1.mod
GO_MODULE_FILES+=	github.com/coryb/oreo/@v/v0.0.0-20180804211640-3e1b88fc08f1.zip
GO_MODULE_FILES+=	github.com/davecgh/go-spew/@v/v1.1.0.mod
GO_MODULE_FILES+=	github.com/davecgh/go-spew/@v/v1.1.0.zip
GO_MODULE_FILES+=	github.com/fatih/camelcase/@v/v1.0.0.mod
GO_MODULE_FILES+=	github.com/fatih/camelcase/@v/v1.0.0.zip
GO_MODULE_FILES+=	github.com/google/go-cmp/@v/v0.5.2.mod
GO_MODULE_FILES+=	github.com/google/go-cmp/@v/v0.5.2.zip
GO_MODULE_FILES+=	github.com/google/uuid/@v/v1.1.1.mod
GO_MODULE_FILES+=	github.com/google/uuid/@v/v1.1.1.zip
GO_MODULE_FILES+=	github.com/guelfey/go.dbus/@v/v0.0.0-20131113121618-f6a3a2366cc3.mod
GO_MODULE_FILES+=	github.com/guelfey/go.dbus/@v/v0.0.0-20131113121618-f6a3a2366cc3.zip
GO_MODULE_FILES+=	github.com/hinshun/vt10x/@v/v0.0.0-20180809195222-d55458df857c.mod
GO_MODULE_FILES+=	github.com/hinshun/vt10x/@v/v0.0.0-20180809195222-d55458df857c.zip
GO_MODULE_FILES+=	github.com/huandu/xstrings/@v/v1.2.0.mod
GO_MODULE_FILES+=	github.com/huandu/xstrings/@v/v1.2.0.zip
GO_MODULE_FILES+=	github.com/imdario/mergo/@v/v0.3.7.mod
GO_MODULE_FILES+=	github.com/imdario/mergo/@v/v0.3.7.zip
GO_MODULE_FILES+=	github.com/jinzhu/copier/@v/v0.0.0-20180308034124-7e38e58719c3.mod
GO_MODULE_FILES+=	github.com/jinzhu/copier/@v/v0.0.0-20180308034124-7e38e58719c3.zip
GO_MODULE_FILES+=	github.com/kballard/go-shellquote/@v/v0.0.0-20180428030007-95032a82bc51.mod
GO_MODULE_FILES+=	github.com/kballard/go-shellquote/@v/v0.0.0-20180428030007-95032a82bc51.zip
GO_MODULE_FILES+=	github.com/kr/pretty/@v/v0.1.0.mod
GO_MODULE_FILES+=	github.com/kr/pretty/@v/v0.1.0.zip
GO_MODULE_FILES+=	github.com/kr/pty/@v/v1.1.1.mod
GO_MODULE_FILES+=	github.com/kr/pty/@v/v1.1.4.mod
GO_MODULE_FILES+=	github.com/kr/pty/@v/v1.1.4.zip
GO_MODULE_FILES+=	github.com/kr/text/@v/v0.1.0.mod
GO_MODULE_FILES+=	github.com/kr/text/@v/v0.1.0.zip
GO_MODULE_FILES+=	github.com/mattn/go-colorable/@v/v0.0.9.mod
GO_MODULE_FILES+=	github.com/mattn/go-colorable/@v/v0.0.9.zip
GO_MODULE_FILES+=	github.com/mattn/go-isatty/@v/v0.0.3.mod
GO_MODULE_FILES+=	github.com/mattn/go-isatty/@v/v0.0.3.zip
GO_MODULE_FILES+=	github.com/mattn/go-runewidth/@v/v0.0.6.mod
GO_MODULE_FILES+=	github.com/mattn/go-runewidth/@v/v0.0.6.zip
GO_MODULE_FILES+=	github.com/mgutz/ansi/@v/v0.0.0-20170206155736-9520e82c474b.mod
GO_MODULE_FILES+=	github.com/mgutz/ansi/@v/v0.0.0-20170206155736-9520e82c474b.zip
GO_MODULE_FILES+=	github.com/olekukonko/tablewriter/@v/v0.0.3.mod
GO_MODULE_FILES+=	github.com/olekukonko/tablewriter/@v/v0.0.3.zip
GO_MODULE_FILES+=	github.com/pkg/browser/@v/v0.0.0-20170505125900-c90ca0c84f15.mod
GO_MODULE_FILES+=	github.com/pkg/browser/@v/v0.0.0-20170505125900-c90ca0c84f15.zip
GO_MODULE_FILES+=	github.com/pkg/errors/@v/v0.8.0.mod
GO_MODULE_FILES+=	github.com/pkg/errors/@v/v0.8.0.zip
GO_MODULE_FILES+=	github.com/pmezard/go-difflib/@v/v1.0.0.mod
GO_MODULE_FILES+=	github.com/pmezard/go-difflib/@v/v1.0.0.zip
GO_MODULE_FILES+=	github.com/stretchr/testify/@v/v1.2.2.mod
GO_MODULE_FILES+=	github.com/stretchr/testify/@v/v1.2.2.zip
GO_MODULE_FILES+=	github.com/theckman/go-flock/@v/v0.4.0.mod
GO_MODULE_FILES+=	github.com/theckman/go-flock/@v/v0.4.0.zip
GO_MODULE_FILES+=	github.com/tidwall/gjson/@v/v0.0.0-20180711011033-ba784d767ac7.mod
GO_MODULE_FILES+=	github.com/tidwall/gjson/@v/v0.0.0-20180711011033-ba784d767ac7.zip
GO_MODULE_FILES+=	github.com/tidwall/match/@v/v1.0.0.mod
GO_MODULE_FILES+=	github.com/tidwall/match/@v/v1.0.0.zip
GO_MODULE_FILES+=	github.com/tmc/keyring/@v/v0.0.0-20171121202319-839169085ae1.mod
GO_MODULE_FILES+=	github.com/tmc/keyring/@v/v0.0.0-20171121202319-839169085ae1.zip
GO_MODULE_FILES+=	golang.org/x/crypto/@v/v0.0.0-20180723164146-c126467f60eb.mod
GO_MODULE_FILES+=	golang.org/x/crypto/@v/v0.0.0-20180723164146-c126467f60eb.zip
GO_MODULE_FILES+=	golang.org/x/net/@v/v0.0.0-20171102191033-01c190206fbd.mod
GO_MODULE_FILES+=	golang.org/x/net/@v/v0.0.0-20171102191033-01c190206fbd.zip
GO_MODULE_FILES+=	golang.org/x/sys/@v/v0.0.0-20180727230415-bd9dbc187b6e.mod
GO_MODULE_FILES+=	golang.org/x/sys/@v/v0.0.0-20180727230415-bd9dbc187b6e.zip
GO_MODULE_FILES+=	golang.org/x/xerrors/@v/v0.0.0-20191204190536-9bdfabe68543.mod
GO_MODULE_FILES+=	golang.org/x/xerrors/@v/v0.0.0-20191204190536-9bdfabe68543.zip
GO_MODULE_FILES+=	gopkg.in/!alec!aivazis/survey.v1/@v/v1.6.1.mod
GO_MODULE_FILES+=	gopkg.in/!alec!aivazis/survey.v1/@v/v1.6.1.zip
GO_MODULE_FILES+=	gopkg.in/alecthomas/kingpin.v2/@v/v2.2.6.mod
GO_MODULE_FILES+=	gopkg.in/alecthomas/kingpin.v2/@v/v2.2.6.zip
GO_MODULE_FILES+=	gopkg.in/check.v1/@v/v0.0.0-20161208181325-20d25e280405.mod
GO_MODULE_FILES+=	gopkg.in/check.v1/@v/v1.0.0-20180628173108-788fd7840127.mod
GO_MODULE_FILES+=	gopkg.in/check.v1/@v/v1.0.0-20180628173108-788fd7840127.zip
GO_MODULE_FILES+=	gopkg.in/coryb/yaml.v2/@v/v2.0.0-20180616071044-0e40e46f7153.mod
GO_MODULE_FILES+=	gopkg.in/coryb/yaml.v2/@v/v2.0.0-20180616071044-0e40e46f7153.zip
GO_MODULE_FILES+=	gopkg.in/op/go-logging.v1/@v/v1.0.0-20160211212156-b2cb9fa56473.mod
GO_MODULE_FILES+=	gopkg.in/op/go-logging.v1/@v/v1.0.0-20160211212156-b2cb9fa56473.zip
GO_MODULE_FILES+=	gopkg.in/yaml.v2/@v/v2.2.2.mod
GO_MODULE_FILES+=	gopkg.in/yaml.v2/@v/v2.2.2.zip

GO_BUILD_PATTERN=	./cmd/jira
CHECK_RELRO_SKIP+=	bin/jira

INSTALLATION_DIRS+=	bin share/doc/go-jira

# XXX: Kludge to disable keyring support: it is supported only on Linux
post-patch:
	${RM} ${WRKSRC}/jiracli/keyring.go

do-install:
	${INSTALL_PROGRAM} ${WRKDIR}/.gopath/bin/jira ${DESTDIR}${PREFIX}/bin
	${INSTALL_DATA} ${WRKSRC}/README.md ${DESTDIR}${PREFIX}/share/doc/go-jira

.include "../../lang/go/go-module.mk"
.include "../../mk/bsd.pkg.mk"
