$NetBSD: patch-aa,v 1.1 2006/12/01 04:25:52 mwicks Exp $

--- prnt/hpijs/configure.orig	2006-11-23 22:18:53.000000000 -0500
+++ prnt/hpijs/configure
@@ -8539,7 +8539,7 @@ fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen" >&5
 echo "${ECHO_T}$ac_cv_lib_dl_dlopen" >&6
 if test $ac_cv_lib_dl_dlopen = yes; then
-  lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"
+  lt_cv_dlopen="dlopen" lt_cv_dlopen_libs=
 else
 
     lt_cv_dlopen="dyld"
@@ -8801,13 +8801,12 @@ echo "${ECHO_T}$ac_cv_func_dlopen" >&6
 if test $ac_cv_func_dlopen = yes; then
   lt_cv_dlopen="dlopen"
 else
-  echo "$as_me:$LINENO: checking for dlopen in -ldl" >&5
-echo $ECHO_N "checking for dlopen in -ldl... $ECHO_C" >&6
+  echo "$as_me:$LINENO: checking for dlopen" >&5
+echo $ECHO_N "checking for dlopen... $ECHO_C" >&6
 if test "${ac_cv_lib_dl_dlopen+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-ldl  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -8865,7 +8864,7 @@ fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen" >&5
 echo "${ECHO_T}$ac_cv_lib_dl_dlopen" >&6
 if test $ac_cv_lib_dl_dlopen = yes; then
-  lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"
+  lt_cv_dlopen="dlopen" lt_cv_dlopen_libs=
 else
   echo "$as_me:$LINENO: checking for dlopen in -lsvld" >&5
 echo $ECHO_N "checking for dlopen in -lsvld... $ECHO_C" >&6
@@ -20313,13 +20312,12 @@ echo "$as_me: error: \"cannot find libjp
    { (exit 102); exit 102; }; }
 fi
 
-echo "$as_me:$LINENO: checking for dlopen in -ldl" >&5
-echo $ECHO_N "checking for dlopen in -ldl... $ECHO_C" >&6
+echo "$as_me:$LINENO: checking for dlopen" >&5
+echo $ECHO_N "checking for dlopen... $ECHO_C" >&6
 if test "${ac_cv_lib_dl_dlopen+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-ldl  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -20380,7 +20378,6 @@ if test $ac_cv_lib_dl_dlopen = yes; then
   cat >>confdefs.h <<\_ACEOF
 #define HAVE_LIBDL 1
 _ACEOF
- LIBS="-ldl $LIBS"
 else
   { { echo "$as_me:$LINENO: error: \"cannot find libdl support\"" >&5
 echo "$as_me: error: \"cannot find libdl support\"" >&2;}
@@ -21403,7 +21400,7 @@ echo "${ECHO_T}\"using $CUPS_PPD_PATH\""
 
 echo "$as_me:$LINENO: checking \"for cups filter path\"" >&5
 echo $ECHO_N "checking \"for cups filter path\"... $ECHO_C" >&6
-CUPS_FILTER_PATH="/usr/lib/cups/filter"
+CUPS_FILTER_PATH="/usr/pkg/libexec/cups/filter"
 for i in $CUPSSEARCHPATH; do
    if test -d "$i/cups/filter"; then
       CUPS_FILTER_PATH="$i/cups/filter"
@@ -22399,6 +22396,8 @@ do
 _ACEOF
 cat >>$CONFIG_STATUS <<\_ACEOF
   -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
+	: Avoid regenerating within pkgsrc
+	exit 0
     ac_cs_recheck=: ;;
   --version | --vers* | -V )
     echo "$ac_cs_version"; exit 0 ;;
