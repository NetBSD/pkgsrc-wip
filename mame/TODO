Update started, doesn't build.

Reported upstream:
https://github.com/mamedev/mame/issues/14012

In file included from ../../../../../src/devices/video/serialvfd.cpp:4:
../../../../../src/devices/video/serialvfd.h:19:1: error: expected class-name before '{' token
   19 | {
      | ^
../../../../../src/devices/video/serialvfd.h:21:33: error: 'machine_config' does not name a type
   21 |         serial_vfd_device(const machine_config &mconfig, const char *tag, device_t *owner, uint32_t clock = 0);
      |                                 ^~~~~~~~~~~~~~
../../../../../src/devices/video/serialvfd.h:21:75: error: 'device_t' has not been declared
   21 |         serial_vfd_device(const machine_config &mconfig, const char *tag, device_t *owner, uint32_t clock = 0);
      |                                                                           ^~~~~~~~
../../../../../src/devices/video/serialvfd.h:21:92: error: 'uint32_t' has not been declared
   21 |         serial_vfd_device(const machine_config &mconfig, const char *tag, device_t *owner, uint32_t clock = 0);
      |                                                                                            ^~~~~~~~
../../../../../src/devices/video/serialvfd.h:32:15: error: 'uint16_t' does not name a type
   32 |         const uint16_t vfd_charMap[64] = {
      |               ^~~~~~~~
../../../../../src/devices/video/serialvfd.h:1:1: note: 'uint16_t' is defined in header '<cstdint>'; did you forget to '#include <cstdint>'?
  +++ |+#include <cstdint>
    1 | // license:BSD-3-Clause
../../../../../src/devices/video/serialvfd.h:43:9: error: 'output_finder' does not name a type
   43 |         output_finder<16> m_vfd;
      |         ^~~~~~~~~~~~~
../../../../../src/devices/video/serialvfd.h:45:9: error: 'uint8_t' does not name a type
   45 |         uint8_t m_bitCount = 0;
      |         ^~~~~~~
../../../../../src/devices/video/serialvfd.h:45:9: note: 'uint8_t' is defined in header '<cstdint>'; did you forget to '#include <cstdint>'?
../../../../../src/devices/video/serialvfd.h:46:9: error: 'uint8_t' does not name a type
   46 |         uint8_t m_cmd = 0x00;
      |         ^~~~~~~
../../../../../src/devices/video/serialvfd.h:46:9: note: 'uint8_t' is defined in header '<cstdint>'; did you forget to '#include <cstdint>'?
../../../../../src/devices/video/serialvfd.h:47:9: error: 'uint8_t' does not name a type
   47 |         uint8_t m_digits = 0;
      |         ^~~~~~~
../../../../../src/devices/video/serialvfd.h:47:9: note: 'uint8_t' is defined in header '<cstdint>'; did you forget to '#include <cstdint>'?
../../../../../src/devices/video/serialvfd.h:48:9: error: 'uint8_t' does not name a type
   48 |         uint8_t m_bright = 0x1F;
      |         ^~~~~~~
../../../../../src/devices/video/serialvfd.h:48:9: note: 'uint8_t' is defined in header '<cstdint>'; did you forget to '#include <cstdint>'?
../../../../../src/devices/video/serialvfd.h:49:9: error: 'uint8_t' does not name a type
   49 |         uint8_t m_cursor = 0;
      |         ^~~~~~~
../../../../../src/devices/video/serialvfd.h:49:9: note: 'uint8_t' is defined in header '<cstdint>'; did you forget to '#include <cstdint>'?
../../../../../src/devices/video/serialvfd.h:51:9: error: 'uint16_t' does not name a type
   51 |         uint16_t m_buff[16];
      |         ^~~~~~~~
../../../../../src/devices/video/serialvfd.h:51:9: note: 'uint16_t' is defined in header '<cstdint>'; did you forget to '#include <cstdint>'?
../../../../../src/devices/video/serialvfd.h:28:22: error: 'virtual void serial_vfd_device::device_start()' marked 'override', but does not override
   28 |         virtual void device_start() override;
      |                      ^~~~~~~~~~~~
../../../../../src/devices/video/serialvfd.h:57:20: error: expected constructor, destructor, or type conversion before '(' token
   57 | DECLARE_DEVICE_TYPE(SERIAL_VFD, serial_vfd_device)
      |                    ^
Compiling src/devices/video/snes_ppu.cpp...
Compiling src/devices/video/sprite.cpp...
Compiling src/devices/video/st7626.cpp...
Compiling src/devices/video/t6963c.cpp...
Compiling src/devices/video/t6a04.cpp...
Compiling src/devices/video/tea1002.cpp...
Compiling src/devices/video/tlc34076.cpp...
../../../../../src/devices/video/serialvfd.cpp:14:1: error: no declaration matches 'serial_vfd_device::serial_vfd_device(const machine_config&, const char*, device_t*, uint32_t)'
   14 | serial_vfd_device::serial_vfd_device(const machine_config &mconfig, const char *tag, device_t *owner, uint32_t clock)
      | ^~~~~~~~~~~~~~~~~
../../../../../src/devices/video/serialvfd.h:17:7: note: candidates are: 'constexpr serial_vfd_device::serial_vfd_device(serial_vfd_device&&)'
   17 | class serial_vfd_device :
      |       ^~~~~~~~~~~~~~~~~
../../../../../src/devices/video/serialvfd.h:17:7: note:                 'constexpr serial_vfd_device::serial_vfd_device(const serial_vfd_device&)'
../../../../../src/devices/video/serialvfd.h:21:9: note:                 'serial_vfd_device::serial_vfd_device(const int&, const char*, int*, int)'
   21 |         serial_vfd_device(const machine_config &mconfig, const char *tag, device_t *owner, uint32_t clock = 0);
      |         ^~~~~~~~~~~~~~~~~
../../../../../src/devices/video/serialvfd.h:17:7: note: 'class serial_vfd_device' defined here
   17 | class serial_vfd_device :
      |       ^~~~~~~~~~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp: In member function 'void serial_vfd_device::write_clock(bool)':
../../../../../src/devices/video/serialvfd.cpp:24:33: error: 'm_cmd' was not declared in this scope
   24 |                                 m_cmd = (m_cmd << 1) | m_data;
      |                                 ^~~~~
../../../../../src/devices/video/serialvfd.cpp:25:33: error: 'm_bitCount' was not declared in this scope
   25 |                                 m_bitCount++;
      |                                 ^~~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp: In member function 'virtual void serial_vfd_device::device_start()':
../../../../../src/devices/video/serialvfd.cpp:39:9: error: 'm_vfd' was not declared in this scope
   39 |         m_vfd.resolve();
      |         ^~~~~
In file included from ../../../../../src/devices/video/serialvfd.cpp:10:
../../../../../src/devices/video/serialvfd.cpp: In member function 'void serial_vfd_device::write_reset(bool)':
../../../../../src/emu/logmacro.h:16:25: error: 'logerror' was not declared in this scope
   16 | #define LOG_OUTPUT_FUNC logerror
      |                         ^~~~~~~~
../../../../../src/emu/logmacro.h:24:58: note: in expansion of macro 'LOG_OUTPUT_FUNC'
   24 | #define LOGMASKED(mask, ...) do { if (VERBOSE & (mask)) (LOG_OUTPUT_FUNC)(__VA_ARGS__); } while (false)
      |                                                          ^~~~~~~~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:12:25: note: in expansion of macro 'LOGMASKED'
   12 | #define LOGVFD(...)     LOGMASKED(LOG_VFD,     __VA_ARGS__)
      |                         ^~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:49:17: note: in expansion of macro 'LOGVFD'
   49 |                 LOGVFD("vfd reset\n");
      |                 ^~~~~~
../../../../../src/devices/video/serialvfd.cpp:50:17: error: 'm_bitCount' was not declared in this scope
   50 |                 m_bitCount = 0;
      |                 ^~~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:51:17: error: 'm_digits' was not declared in this scope
   51 |                 m_digits = 0;
      |                 ^~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:52:17: error: 'm_cursor' was not declared in this scope
   52 |                 m_cursor = 0;
      |                 ^~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:53:17: error: 'm_bright' was not declared in this scope
   53 |                 m_bright = 0x00;
      |                 ^~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:54:17: error: 'm_cmd' was not declared in this scope
   54 |                 m_cmd = 0x00;
      |                 ^~~~~
../../../../../src/devices/video/serialvfd.cpp: In member function 'void serial_vfd_device::run_command()':
../../../../../src/devices/video/serialvfd.cpp:64:23: error: 'm_cmd' was not declared in this scope
   64 |         if(m_reset && m_cmd & 0x80){
      |                       ^~~~~
../../../../../src/devices/video/serialvfd.cpp:69:50: error: 'm_cursor' was not declared in this scope
   69 |                                 if(temp == 0x0f) m_cursor = 0;
      |                                                  ^~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:70:38: error: 'm_cursor' was not declared in this scope
   70 |                                 else m_cursor = temp;
      |                                      ^~~~~~~~
../../../../../src/emu/logmacro.h:16:25: error: 'logerror' was not declared in this scope
   16 | #define LOG_OUTPUT_FUNC logerror
      |                         ^~~~~~~~
../../../../../src/emu/logmacro.h:24:58: note: in expansion of macro 'LOG_OUTPUT_FUNC'
   24 | #define LOGMASKED(mask, ...) do { if (VERBOSE & (mask)) (LOG_OUTPUT_FUNC)(__VA_ARGS__); } while (false)
      |                                                          ^~~~~~~~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:12:25: note: in expansion of macro 'LOGMASKED'
   12 | #define LOGVFD(...)     LOGMASKED(LOG_VFD,     __VA_ARGS__)
      |                         ^~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:71:33: note: in expansion of macro 'LOGVFD'
   71 |                                 LOGVFD("vfd cursor: %d\n", m_cursor);
      |                                 ^~~~~~
../../../../../src/devices/video/serialvfd.cpp:71:60: error: 'm_cursor' was not declared in this scope
   71 |                                 LOGVFD("vfd cursor: %d\n", m_cursor);
      |                                                            ^~~~~~~~
../../../../../src/emu/logmacro.h:24:75: note: in definition of macro 'LOGMASKED'
   24 | #define LOGMASKED(mask, ...) do { if (VERBOSE & (mask)) (LOG_OUTPUT_FUNC)(__VA_ARGS__); } while (false)
      |                                                                           ^~~~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:71:33: note: in expansion of macro 'LOGVFD'
   71 |                                 LOGVFD("vfd cursor: %d\n", m_cursor);
      |                                 ^~~~~~
../../../../../src/devices/video/serialvfd.cpp:74:33: error: 'm_digits' was not declared in this scope
   74 |                                 m_digits = (m_cmd & 0x0f);
      |                                 ^~~~~~~~
../../../../../src/emu/logmacro.h:16:25: error: 'logerror' was not declared in this scope
   16 | #define LOG_OUTPUT_FUNC logerror
      |                         ^~~~~~~~
../../../../../src/emu/logmacro.h:24:58: note: in expansion of macro 'LOG_OUTPUT_FUNC'
   24 | #define LOGMASKED(mask, ...) do { if (VERBOSE & (mask)) (LOG_OUTPUT_FUNC)(__VA_ARGS__); } while (false)
      |                                                          ^~~~~~~~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:12:25: note: in expansion of macro 'LOGMASKED'
   12 | #define LOGVFD(...)     LOGMASKED(LOG_VFD,     __VA_ARGS__)
      |                         ^~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:75:33: note: in expansion of macro 'LOGVFD'
   75 |                                 LOGVFD("vfd digits: %d\n", m_digits);
      |                                 ^~~~~~
../../../../../src/devices/video/serialvfd.cpp:78:33: error: 'm_bright' was not declared in this scope
   78 |                                 m_bright = (m_cmd & 0x1f);
      |                                 ^~~~~~~~
../../../../../src/emu/logmacro.h:16:25: error: 'logerror' was not declared in this scope
   16 | #define LOG_OUTPUT_FUNC logerror
      |                         ^~~~~~~~
../../../../../src/emu/logmacro.h:24:58: note: in expansion of macro 'LOG_OUTPUT_FUNC'
   24 | #define LOGMASKED(mask, ...) do { if (VERBOSE & (mask)) (LOG_OUTPUT_FUNC)(__VA_ARGS__); } while (false)
      |                                                          ^~~~~~~~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:12:25: note: in expansion of macro 'LOGMASKED'
   12 | #define LOGVFD(...)     LOGMASKED(LOG_VFD,     __VA_ARGS__)
      |                         ^~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:79:33: note: in expansion of macro 'LOGVFD'
   79 |                                 LOGVFD("vfd brightness: %d\n", m_bright);
      |                                 ^~~~~~
../../../../../src/emu/logmacro.h:16:25: error: 'logerror' was not declared in this scope
   16 | #define LOG_OUTPUT_FUNC logerror
      |                         ^~~~~~~~
../../../../../src/emu/logmacro.h:24:58: note: in expansion of macro 'LOG_OUTPUT_FUNC'
   24 | #define LOGMASKED(mask, ...) do { if (VERBOSE & (mask)) (LOG_OUTPUT_FUNC)(__VA_ARGS__); } while (false)
      |                                                          ^~~~~~~~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:12:25: note: in expansion of macro 'LOGMASKED'
   12 | #define LOGVFD(...)     LOGMASKED(LOG_VFD,     __VA_ARGS__)
      |                         ^~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:84:17: note: in expansion of macro 'LOGVFD'
   84 |                 LOGVFD("vfd_text: %02x, %s, %d\n", (m_cmd & 0x3f), m_cmd, m_cursor);
      |                 ^~~~~~
../../../../../src/devices/video/serialvfd.cpp:84:75: error: 'm_cursor' was not declared in this scope
   84 |                 LOGVFD("vfd_text: %02x, %s, %d\n", (m_cmd & 0x3f), m_cmd, m_cursor);
      |                                                                           ^~~~~~~~
../../../../../src/emu/logmacro.h:24:75: note: in definition of macro 'LOGMASKED'
   24 | #define LOGMASKED(mask, ...) do { if (VERBOSE & (mask)) (LOG_OUTPUT_FUNC)(__VA_ARGS__); } while (false)
      |                                                                           ^~~~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:84:17: note: in expansion of macro 'LOGVFD'
   84 |                 LOGVFD("vfd_text: %02x, %s, %d\n", (m_cmd & 0x3f), m_cmd, m_cursor);
      |                 ^~~~~~
../../../../../src/devices/video/serialvfd.cpp:86:25: error: 'm_buff' was not declared in this scope
   86 |                         m_buff[m_cursor] = vfd_charMap[m_cmd & 0x3f];
      |                         ^~~~~~
../../../../../src/devices/video/serialvfd.cpp:86:32: error: 'm_cursor' was not declared in this scope
   86 |                         m_buff[m_cursor] = vfd_charMap[m_cmd & 0x3f];
      |                                ^~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:86:44: error: 'vfd_charMap' was not declared in this scope
   86 |                         m_buff[m_cursor] = vfd_charMap[m_cmd & 0x3f];
      |                                            ^~~~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:87:25: error: 'm_vfd' was not declared in this scope
   87 |                         m_vfd[m_cursor] = vfd_charMap[m_cmd & 0x3f];
      |                         ^~~~~
../../../../../src/devices/video/serialvfd.cpp:91:25: error: 'm_vfd' was not declared in this scope
   91 |                         m_vfd[m_cursor-1] = (m_buff[m_cursor-1] | vfd_charMap[m_cmd & 0x3f]);
      |                         ^~~~~
../../../../../src/devices/video/serialvfd.cpp:91:31: error: 'm_cursor' was not declared in this scope
   91 |                         m_vfd[m_cursor-1] = (m_buff[m_cursor-1] | vfd_charMap[m_cmd & 0x3f]);
      |                               ^~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:91:46: error: 'm_buff' was not declared in this scope
   91 |                         m_vfd[m_cursor-1] = (m_buff[m_cursor-1] | vfd_charMap[m_cmd & 0x3f]);
      |                                              ^~~~~~
../../../../../src/devices/video/serialvfd.cpp:91:67: error: 'vfd_charMap' was not declared in this scope
   91 |                         m_vfd[m_cursor-1] = (m_buff[m_cursor-1] | vfd_charMap[m_cmd & 0x3f]);
      |                                                                   ^~~~~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:93:21: error: 'm_digits' was not declared in this scope
   93 |                 if(!m_digits){
      |                     ^~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:94:28: error: 'm_cursor' was not declared in this scope
   94 |                         if(m_cursor >= 16) m_cursor = 0;
      |                            ^~~~~~~~
../../../../../src/devices/video/serialvfd.cpp:96:28: error: 'm_cursor' was not declared in this scope
   96 |                         if(m_cursor >= m_digits) m_cursor = 0;
      |                            ^~~~~~~~
Compiling src/devices/video/tmap038.cpp...
In file included from ../../../../../src/emu/emu.h:62,
                 from ../../../../../src/devices/video/serialvfd.cpp:5:
../../../../../src/emu/device.h: In instantiation of 'emu::detail::device_type_impl_base::device_type_impl_base(emu::detail::device_tag_struct<DeviceClass, ShortName, FullName, Source>) [with DeviceClass = serial_vfd_device; const char* ShortName = (& {anonymous}::SERIAL_VFD_device_traits::shortname); const char* FullName = (& {anonymous}::SERIAL_VFD_device_traits::fullname); const char* Source = (& {anonymous}::SERIAL_VFD_device_traits::source)]':
../../../../../src/emu/device.h:296:31:   required from here
../../../../../src/emu/device.h:247:65: error: 'emulation_flags' is not a member of 'serial_vfd_device'
  247 |                 , m_emulation_flags(DeviceClass::emulation_flags())
      |                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
../../../../../src/emu/device.h:248:73: error: 'unemulated_features' is not a member of 'serial_vfd_device'
  248 |                 , m_unemulated_features(DeviceClass::unemulated_features())
      |                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
../../../../../src/emu/device.h:249:71: error: 'imperfect_features' is not a member of 'serial_vfd_device'
  249 |                 , m_imperfect_features(DeviceClass::imperfect_features())
      |                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
../../../../../src/emu/device.h:250:67: error: 'parent_rom_device_type' is not a member of 'serial_vfd_device'
  250 |                 , m_parent_rom(DeviceClass::parent_rom_device_type())
      |                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
In file included from ../../../../../src/emu/emu.h:63:
../../../../../src/emu/devfind.h: In instantiation of 'void device_finder<DeviceClass, Required>::set_tag(DeviceClass&) [with DeviceClass = serial_vfd_device; bool Required = false]':
../../../../../src/devices/video/serialvfd.cpp:101:1:   required from here
../../../../../src/emu/devfind.h:605:52: error: no matching function for call to 'device_finder<serial_vfd_device, false>::set_tag(serial_vfd_device&, const char [1])'
  605 |         void set_tag(DeviceClass &object) { set_tag(object, DEVICE_SELF); }
      |                                             ~~~~~~~^~~~~~~~~~~~~~~~~~~~~
../../../../../src/emu/devfind.h:331:14: note: candidate: 'void finder_base::set_tag(const finder_base&)'
  331 |         void set_tag(finder_base const &finder)
      |              ^~~~~~~
../../../../../src/emu/devfind.h:331:14: note:   candidate expects 1 argument, 2 provided
../../../../../src/emu/devfind.h:323:14: note: candidate: 'void finder_base::set_tag(const char*)'
  323 |         void set_tag(char const *tag);
      |              ^~~~~~~
../../../../../src/emu/devfind.h:323:14: note:   candidate expects 1 argument, 2 provided
../../../../../src/emu/devfind.h:306:14: note: candidate: 'void finder_base::set_tag(device_t&, const char*)'
  306 |         void set_tag(device_t &base, char const *tag)
      |              ^~~~~~~
../../../../../src/emu/devfind.h:306:32: note:   no known conversion for argument 1 from 'serial_vfd_device' to 'device_t&'
  306 |         void set_tag(device_t &base, char const *tag)
      |                      ~~~~~~~~~~^~~~
../../../../../src/emu/devfind.h:605:14: note: candidate: 'void device_finder<DeviceClass, Required>::set_tag(DeviceClass&) [with DeviceClass = serial_vfd_device; bool Required = false]'
  605 |         void set_tag(DeviceClass &object) { set_tag(object, DEVICE_SELF); }
      |              ^~~~~~~
../../../../../src/emu/devfind.h:605:14: note:   candidate expects 1 argument, 2 provided
../../../../../src/emu/devfind.h: In instantiation of 'void device_finder<DeviceClass, Required>::set_tag(DeviceClass&) [with DeviceClass = serial_vfd_device; bool Required = true]':
../../../../../src/devices/video/serialvfd.cpp:101:1:   required from here
../../../../../src/emu/devfind.h:605:52: error: no matching function for call to 'device_finder<serial_vfd_device, true>::set_tag(serial_vfd_device&, const char [1])'
  605 |         void set_tag(DeviceClass &object) { set_tag(object, DEVICE_SELF); }
      |                                             ~~~~~~~^~~~~~~~~~~~~~~~~~~~~
../../../../../src/emu/devfind.h:331:14: note: candidate: 'void finder_base::set_tag(const finder_base&)'
  331 |         void set_tag(finder_base const &finder)
      |              ^~~~~~~
../../../../../src/emu/devfind.h:331:14: note:   candidate expects 1 argument, 2 provided
../../../../../src/emu/devfind.h:323:14: note: candidate: 'void finder_base::set_tag(const char*)'
  323 |         void set_tag(char const *tag);
      |              ^~~~~~~
../../../../../src/emu/devfind.h:323:14: note:   candidate expects 1 argument, 2 provided
../../../../../src/emu/devfind.h:306:14: note: candidate: 'void finder_base::set_tag(device_t&, const char*)'
  306 |         void set_tag(device_t &base, char const *tag)
      |              ^~~~~~~
../../../../../src/emu/devfind.h:306:32: note:   no known conversion for argument 1 from 'serial_vfd_device' to 'device_t&'
  306 |         void set_tag(device_t &base, char const *tag)
      |                      ~~~~~~~~~~^~~~
../../../../../src/emu/devfind.h:605:14: note: candidate: 'void device_finder<DeviceClass, Required>::set_tag(DeviceClass&) [with DeviceClass = serial_vfd_device; bool Required = true]'
  605 |         void set_tag(DeviceClass &object) { set_tag(object, DEVICE_SELF); }
      |              ^~~~~~~
../../../../../src/emu/devfind.h:605:14: note:   candidate expects 1 argument, 2 provided
