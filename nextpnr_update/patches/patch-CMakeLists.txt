$NetBSD$

the tests directory is empty in the realease.

--- CMakeLists.txt.orig	2025-08-31 16:09:11.547173344 +0000
+++ CMakeLists.txt
@@ -239,8 +239,6 @@ add_subdirectory(frontend)
 add_subdirectory(json)
 add_subdirectory(rust)
 
-add_subdirectory(tests/gui)
-
 add_custom_target(nextpnr-all-bba)
 
 function(add_nextpnr_architecture target)
@@ -368,6 +366,7 @@ function(add_nextpnr_architecture target
 
         target_link_libraries(nextpnr-${target}-test PRIVATE gtest_main nextpnr-${target}-core)
         if (BUILD_GUI)
+            add_subdirectory(tests/gui)
             target_link_libraries(nextpnr-${target}-test PRIVATE nextpnr-${target}-gui)
             target_link_libraries(nextpnr-${target}-test PRIVATE nextpnr_test_gui)
         endif()
