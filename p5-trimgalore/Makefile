# $NetBSD$
#
###########################################################
#                  Generated by fbsd2pkg                  #
#              Thu Nov  2 15:12:06 CDT 2017               #
###########################################################

DISTNAME=	trimgalore-${PORTVERSION}
PKGNAME=	p5-trimgalore-${PORTVERSION}
CATEGORIES=	biology
MASTER_SITES=	${MASTER_SITE_GITHUB:=FelixKrueger/}
GITHUB_PROJECT=	trimgalore
GITHUB_TAG=	${PORTVERSION}

MAINTAINER=	pkgsrc-users@NetBSD.org
HOMEPAGE=	https://github.com/FelixKrueger/TrimGalore
COMMENT=	Wrapper around Cutadapt and FastQC for adapter and quality trimming
LICENSE=	gnu-gpl-v3

DEPENDS+=	fastqc-[0-9]*:../../biology/fastqc
DEPENDS+=	${PY}-cutadapt-[0-9]*:../../biology/py-cutadapt

USE_TOOLS+=	perl:run pax
REPLACE_PERL=	trim_galore
NO_BUILD=	yes

WRKSRC=		${WRKDIR}/TrimGalore-${PORTVERSION}

PORTVERSION=	0.4.4
DATADIR=	${PREFIX}/share/trimgalore

INSTALLATION_DIRS=	bin share/trimgalore

do-install:
	${INSTALL_SCRIPT} ${WRKSRC}/trim_galore ${DESTDIR}${PREFIX}/bin
	cd ${WRKSRC} && pax -rw test_files ${DESTDIR}${DATADIR}

.include "../../lang/python/application.mk"
.include "../../mk/bsd.pkg.mk"
