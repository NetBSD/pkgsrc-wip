$NetBSD: patch-bc,v 1.5 2011/11/15 13:22:12 asau Exp $

--- dlls/wineoss.drv/mmdevdrv.c.orig	2011-11-04 19:02:31.000000000 +0000
+++ dlls/wineoss.drv/mmdevdrv.c
@@ -54,6 +54,12 @@
 #include "audioclient.h"
 
 
+#ifdef __NetBSD__
+#define SOUND_DEV	"/dev/sound"
+#else
+#define SOUND_DEV	"/dev/dsp"
+#endif
+
 /* Some implementations of OSS, such as FreeBSD older than 9.0, lack
    SNDCTL_DSP_HALT which is just a synonym for the older SNDCTL_DSP_RESET. */
 #ifndef SNDCTL_DSP_HALT
@@ -312,9 +318,9 @@ static UINT get_default_index(EDataFlow 
     const char *devnode;
 
     if(flow == eRender)
-        fd = open("/dev/dsp", O_WRONLY);
+        fd = open(SOUND_DEV, O_WRONLY);
     else
-        fd = open("/dev/dsp", O_RDONLY);
+        fd = open(SOUND_DEV, O_RDONLY);
 
     if(fd < 0){
         WARN("Couldn't open default device!\n");
