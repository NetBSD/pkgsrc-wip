$NetBSD: patch-dl,v 1.1 2007/07/27 07:36:59 bsadewitz Exp $

--- ../Mesa-7.0/src/mesa/shader/program.c.orig	2007-06-21 18:10:54.000000000 -0400
+++ ../Mesa-7.0/src/mesa/shader/program.c
@@ -333,7 +333,7 @@ _mesa_clone_program(GLcontext *ctx, cons
 {
    struct gl_program *clone;
 
-   clone = _mesa_new_program(ctx, prog->Target, prog->Id);
+   clone = ctx->Driver.NewProgram(ctx, prog->Target, prog->Id);
    if (!clone)
       return NULL;
 
