$NetBSD: patch-ar,v 1.4 2010/04/21 12:51:26 tnn2 Exp $

Enable the sunaudio module to build on NetBSD.

--- media/libsydneyaudio/src/sydney_audio_sunaudio.c.orig	2010-04-21 09:07:48.000000000 +0000
+++ media/libsydneyaudio/src/sydney_audio_sunaudio.c
@@ -39,11 +39,17 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
+#include <unistd.h>
+#if defined(__NetBSD__)
+#include <sys/ioctl.h>
+#include <sys/audioio.h>
+#else
 #include <stropts.h>
 #include <unistd.h>
 #include <sys/audio.h>
 #include <sys/stat.h>
 #include <sys/mixer.h>
+#endif
 #include "sydney_audio.h"
 
 /* Sun Audio implementation based heavily on sydney_audio_mac.c */
@@ -276,7 +282,7 @@ sa_stream_open(sa_stream_t *s) {
   }
 
   audio_info_t audio_info;
-  AUDIO_INITINFO(&audio_info)
+  AUDIO_INITINFO(&audio_info);
   audio_info.play.sample_rate = s->rate;
   audio_info.play.channels    = s->n_channels;
   audio_info.play.precision   = s->bytes_per_ch * 8;
