$NetBSD: patch-ac,v 1.1 2007/12/12 21:48:10 asau Exp $

Fix hard-coded pathes.

--- src/zabbix_agent/zabbix_agentd.c.orig	2007/12/12 06:58:50
+++ src/zabbix_agent/zabbix_agentd.c	2007/12/12 06:59:15
@@ -48,9 +48,9 @@
 
 /* Default config file location */
 #ifdef _WINDOWS
-	static char	DEFAULT_CONFIG_FILE[]	= "C:\\zabbix_agentd.conf";
+	static char	DEFAULT_CONFIG_FILE[]	= "@CONFDIR@\\zabbix_agentd.conf";
 #else /* not _WINDOWS */
-	static char	DEFAULT_CONFIG_FILE[]	= "/etc/zabbix/zabbix_agentd.conf";
+	static char	DEFAULT_CONFIG_FILE[]	= "@CONFDIR@/zabbix_agentd.conf";
 #endif /* _WINDOWS */
 
 /* application TITLE */
--- src/zabbix_server/server.c	2007/12/12 07:01:32	1.1
+++ src/zabbix_server/server.c	2007/12/12 07:04:17
@@ -229,19 +229,19 @@
 	}
 	if(APP_PID_FILE == NULL)
 	{
-		APP_PID_FILE=strdup("/tmp/zabbix_server.pid");
+		APP_PID_FILE=strdup("@PIDDIR@/zabbix_server.pid");
 	}
 	if(CONFIG_ALERT_SCRIPTS_PATH == NULL)
 	{
-		CONFIG_ALERT_SCRIPTS_PATH=strdup("/home/zabbix/bin");
+		CONFIG_ALERT_SCRIPTS_PATH=strdup("@HOMEDIR@/bin");
 	}
 	if(CONFIG_FPING_LOCATION == NULL)
 	{
-		CONFIG_FPING_LOCATION=strdup("/usr/sbin/fping");
+		CONFIG_FPING_LOCATION=strdup("@PREFIX@/sbin/fping");
 	}
 	if(CONFIG_EXTERNALSCRIPTS == NULL)
 	{
-		CONFIG_EXTERNALSCRIPTS=strdup("/etc/zabbix/externalscripts");
+		CONFIG_EXTERNALSCRIPTS=strdup("@SCRIPTDIR@/externalscripts");
 	}
 #ifndef	HAVE_LIBCURL
 	CONFIG_HTTPPOLLER_FORKS = 0;
@@ -675,7 +675,7 @@
 
 	if(CONFIG_FILE == NULL)
 	{
-		CONFIG_FILE=strdup("/etc/zabbix/zabbix_server.conf");
+		CONFIG_FILE=strdup("@CONFDIR@/zabbix_server.conf");
 	}
 
 	/* Required for simple checks */
