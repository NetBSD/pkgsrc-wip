$NetBSD: patch-ad,v 1.1 2007/12/13 22:27:14 asau Exp $

Fix hard-coded pathes.

--- src/zabbix_server/server.c.orig	2007/12/12 07:01:32
+++ src/zabbix_server/server.c	2007/12/12 07:04:17
@@ -229,19 +229,19 @@
 	}
 	if(APP_PID_FILE == NULL)
 	{
-		APP_PID_FILE=strdup("/tmp/zabbix_server.pid");
+		APP_PID_FILE=strdup("@PIDDIR@/zabbix_server.pid");
 	}
 	if(CONFIG_ALERT_SCRIPTS_PATH == NULL)
 	{
-		CONFIG_ALERT_SCRIPTS_PATH=strdup("/home/zabbix/bin");
+		CONFIG_ALERT_SCRIPTS_PATH=strdup("@HOMEDIR@/bin");
 	}
 	if(CONFIG_FPING_LOCATION == NULL)
 	{
-		CONFIG_FPING_LOCATION=strdup("/usr/sbin/fping");
+		CONFIG_FPING_LOCATION=strdup("@PREFIX@/sbin/fping");
 	}
 	if(CONFIG_EXTERNALSCRIPTS == NULL)
 	{
-		CONFIG_EXTERNALSCRIPTS=strdup("/etc/zabbix/externalscripts");
+		CONFIG_EXTERNALSCRIPTS=strdup("@SCRIPTDIR@/externalscripts");
 	}
 #ifndef	HAVE_LIBCURL
 	CONFIG_HTTPPOLLER_FORKS = 0;
@@ -675,7 +675,7 @@
 
 	if(CONFIG_FILE == NULL)
 	{
-		CONFIG_FILE=strdup("/etc/zabbix/zabbix_server.conf");
+		CONFIG_FILE=strdup("@CONFDIR@/zabbix_server.conf");
 	}
 
 	/* Required for simple checks */
